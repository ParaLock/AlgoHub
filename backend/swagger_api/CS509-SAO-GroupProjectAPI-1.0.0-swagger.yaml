swagger: '2.0'
info:
  title: "ams-api"
  version: '1'
schemes:
- "https"
paths:

  # ------------------ ALGORITHM BEGIN ------------------------------   

  /algorithms/{id}:
    get:
      produces:
      - application/json
      parameters:
      - name: "id"
        in: "path"
        required: true
        type: string
      responses:
        "200":
          description: "200 response"
          schema:
            $ref: "#/definitions/AlgorithmResponse"
                
  /algorithms/add:
    post:
      summary: Create Algorithm
      produces:
      - application/json
      consumes:
      - application/json
      parameters:      
      - in: "body"        
        name: "AlgorithmAddRequest"        
        required: true        
        schema:          
          $ref: "#/definitions/AlgorithmAddRequest"
      responses:
        "200":
          description: "200 response"
          schema:
            $ref: "#/definitions/AlgorithmAddResponse"
                
  
  # ------------------ ALGORITHM END ------------------------------
  
  # ------------------ IMPLEMENTATION BEGIN ------------------------------
  
  /implementations/{id}:
    get:
      produces:
      - application/json
      parameters:
      - name: "id"
        in: "path"
        required: true
        type: string
      responses:
        "200":
          description: "200 response"
          schema:
            $ref: "#/definitions/ImplementationResponse"
            
                
  /implementations/add:
    post:
      summary: Create Implementation
      produces:
      - application/json
      consumes:
      - application/json
      parameters:      
      - in: "body"        
        name: "ImplementationAddRequest"        
        required: true        
        schema:          
          $ref: "#/definitions/ImplementationAddRequest"
      responses:
        "200":
          description: "200 response"
          schema:
            $ref: "#/definitions/ImplementationAddResponse"

                
  /implementations/remove/{id}:
    get:
      produces:
      - application/json
      parameters:
      - name: "id"
        in: "path"
        required: true
        type: string
      responses:
        "200":
          description: "200 response"
          schema:
            $ref: "#/definitions/ImplementationRemoveResponse"
                
  # ------------------ IMPLEMENTATION END ------------------------------  
                
definitions:
    
    # ------------------ ALGORITHM BEGIN ------------------------------   
    
    AlgorithmResponse:
      type: object
      properties:
        algorithm_id:
          type: string
          
    AlgorithmAddRequest:
      type: object
      properties:
        name:
          type: string

        description:
          type: string
        
        parent:
          type: string
          
    AlgorithmAddResponse:
      type: object
      properties:
        algorithm_id:
          type: string
          
    # ------------------ ALGORITHM END ------------------------------ 
    
    # ------------------ IMPLEMENTATION BEGIN ------------------------------     

    ImplementationResponse:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        source_code: 
          type: string
          
    ImplementationAddRequest:
      type: object
      properties:
        name:
          type: string
        
        parent_algorithm: 
          type: string
          
        source_code: 
          type: string
          
    ImplementationAddResponse:
      type: object
      properties:
        implementation_id:
          type: string
          
    ImplementationRemoveResponse:
      type: object
      properties:
        deleted_benchmarks:
          type: array
          items:
            type: string
          
    
    # ------------------ IMPLEMENTATION END ------------------------------